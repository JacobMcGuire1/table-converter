(this.webpackJsonptable_creator=this.webpackJsonptable_creator||[]).push([[0],{101:function(e,t,n){},329:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);n(167);var a=n(0),r=n(14),i=n.n(r),o=n(156),s=n(28),l=n(29),c=n(71),u=n(69),h=n(18),d=n.n(h),b=n(34),f=n(33);function g(e){return e=(e=(e=e.split("\\").join("\\textbackslash")).split("&").join("\\&")).split("%").join("\\%")}var v,p,j=function(){function e(t,n,a){if(Object(s.a)(this,e),this.row=void 0,this.col=void 0,void 0===a)void 0!==t?(this.row=t,this.col=n):(this.row=0,this.col=0);else{var r=a.split(" ");this.row=parseInt(r[0]),this.col=parseInt(r[1])}}return Object(l.a)(e,[{key:"toString",value:function(){return this.row.toString()+" "+this.col.toString()}},{key:"equals",value:function(e){return this.row===e.row&&this.col===e.col}}]),e}();function m(e,t){switch(t){case v.Up:return new j(e.row-1,e.col,void 0);case v.Down:return new j(e.row+1,e.col,void 0);case v.Left:return new j(e.row,e.col-1,void 0);case v.Right:return new j(e.row,e.col+1,void 0)}}!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(v||(v={})),function(e){e.Solid="solid",e.Dotted="dotted",e.Dashed="dashed",e.None="none"}(p||(p={}));n(101);var x,y,C,k=n(150),O=n(359),S=n(362),w=n(373),T=n(363),M=n(364),R=n(370),N=n(365),B=n(369),L=n(366),D=n(367),A=n(371),E=n(372),I=n(368),U=n(70),P=(n(93),n(8)),F=n.n(P),H=n(94),V=n.n(H),z=n(151),W=n(152),q=(n(315),n(358)),G=n(95),X=n.n(G),K=n(1),_=(x=Object(q.a)((function(){return j})),y=function(){function e(t,n){Object(s.a)(this,e),Object(z.a)(this,"p",C,this),this.hidden=!1,this.editing=!1,this.selected=!1,this.mergeroot=void 0,this.mergechildren=[],this.data="",this.backgroundcolour="",this.textcolour="",this.csstextalign="center",this.verticalalign="middle",this.borders=[!0,!0,!0,!0],this.borderstyles=[p.Solid,p.Solid,p.Solid,p.Solid],this.bordercolours=["#000000","#000000","#000000","#000000"],this.p=t,void 0===n?t&&this.setData(t.toString()):this.setData(n)}return Object(l.a)(e,[{key:"isSelected",value:function(){return this.selected}},{key:"select",value:function(){this.selected=!0}},{key:"deselect",value:function(){this.selected=!1}},{key:"getMergeRoot",value:function(){return this.mergeroot}},{key:"getMergeChildren",value:function(){return this.mergechildren}},{key:"addMergeChild",value:function(e){this.mergechildren.push(e)}},{key:"unMerge",value:function(){this.mergeroot=void 0,this.mergechildren=[],this.hidden=!1}},{key:"mergeAsChild",value:function(e){this.mergeroot=e,this.mergechildren=[],this.hidden=!0}},{key:"isMergeRoot",value:function(){return this.mergeroot&&this.mergeroot.equals(this.p)}},{key:"isMergeChild",value:function(){return void 0!==this.mergeroot&&!this.isMergeRoot()}},{key:"mergeAsRoot",value:function(e){this.mergeroot=this.p,this.mergechildren=e.map((function(e){return e})),this.hidden=!1}},{key:"enableEdit",value:function(){this.editing=!0}},{key:"disableEdit",value:function(){this.editing=!1}},{key:"setBackgroundColour",value:function(e){this.backgroundcolour=e}},{key:"setTextColour",value:function(e){this.textcolour=e}},{key:"setBorderColour",value:function(e){this.bordercolours=e}},{key:"setBorderStyle",value:function(e){this.borderstyles=e}},{key:"getData",value:function(){return this.data}},{key:"move",value:function(e){this.isMergeRoot()&&(this.mergeroot=m(this.mergeroot,e)),this.p=m(this.p,e);var t=this.mergechildren.map((function(t){return m(t,e)}));return this.mergechildren=t,[]}},{key:"getMergeSize",value:function(){if(this.mergechildren===[])return[-1,-1];var e=this.p.col,t=this.p.col,n=this.p.row,a=this.p.row;return this.mergechildren.forEach((function(r){var i=r;i.row<n&&(n=i.row),i.row>a&&(a=i.row),i.col<e&&(e=i.col),i.col>t&&(t=i.col)})),[a-n,t-e]}},{key:"getLatexBackgroundColour",value:function(){return""===this.backgroundcolour?"":"\\cellcolor[HTML]{"+this.backgroundcolour.replace("#","").toUpperCase()+"}"}},{key:"getLatexTextColour",value:function(){return""===this.textcolour?"":"\\color[HTML]{"+this.textcolour.replace("#","").toUpperCase()+"}"}},{key:"getBotLeftPoint",value:function(){var e=this.mergechildren,t=Math.max.apply(Math,Object(f.a)(e.map((function(e){return e.row})))),n=Math.min.apply(Math,Object(f.a)(e.map((function(e){return e.col}))));return new j(t,n,void 0)}},{key:"fixLatexLinebreaks",value:function(e){var t=e.split("\n");return 1===t.length?e:"\\tabularCenterstack{"+this.csstextalign.charAt(0)+"}{"+t.join("\\\\")+"}"}},{key:"getBotLeftOfMultiRowMerge",value:function(){var e=this.getLatexBackgroundColour()+this.fixLatexLinebreaks(g(this.getData())),t=this.borderstyles.map((function(e){return e!==p.None})),n=[t[3]?"|":" ",t[1]?"|":" "];if(void 0!==this.mergeroot&&this.isMergeRoot()){var a=this.getMergeSize(),r=a[0],i=a[1];if(0===i)return[this.getBotLeftPoint(),"\\multicolumn{1}{"+n[0]+this.csstextalign.charAt(0)+n[1]+"}{\\multirow{-"+(r+1).toString()+"} {*} {"+this.getLatexTextColour()+e+"}}  &"];if(0===r)return;return[this.getBotLeftPoint(),"\\multicolumn{"+(i+1).toString()+"}{"+n[0]+this.csstextalign.charAt(0)+n[1]+"}{\\multirow{-"+(r+1).toString()+"} {*} {"+this.getLatexTextColour()+e+"}} &"]}}},{key:"getLatex",value:function(e){var t=this.getLatexBackgroundColour()+this.fixLatexLinebreaks(g(this.getData())),n=this.borderstyles.map((function(e){return e!==p.None})),a=[n[3]?"|":" ",n[1]?"|":" "];if(void 0===this.mergeroot)return(t="\\multicolumn{1}{"+a[0]+this.csstextalign.charAt(0)+a[1]+"}{"+this.getLatexTextColour()+t+"}")+" &";if(this.isMergeRoot()){var r=this.getMergeSize(),i=r[0],o=r[1];return 0===o?"\\multicolumn{"+(o+1).toString()+"}{|c|}{"+this.getLatexBackgroundColour()+"} &":0===i?"\\multicolumn{"+(o+1).toString()+"}{"+a[0]+this.csstextalign.charAt(0)+a[1]+"}{"+this.getLatexTextColour()+t+"} &":"\\multicolumn{"+(o+1).toString()+"}{|c|}{"+this.getLatexBackgroundColour()+"} &"}var s=this.mergeroot;if(this.p.row>s.row){var l=e[this.p.toString()];if(void 0!==l)return"\\multicolumn{"+(l+1).toString()+"}{|c|}{"+this.getLatexBackgroundColour()+"} &"}return""}},{key:"getBottomLines",value:function(){if(this.isMergeRoot()){var e=this.p.row,t=[this.p];return this.mergechildren.forEach((function(n){var a=n;t.push(a),a.row>e&&(e=a.row)})),t.filter((function(t){return t.row===e}))}return void 0===this.mergeroot&&this.borderstyles[2]!==p.None?[this.p]:[]}},{key:"getLeftLines",value:function(){if(this.isMergeRoot()){var e=this.p.col,t=[this.p];return this.mergechildren.forEach((function(n){var a=n;a.col===e&&t.push(a)})),t}return void 0===this.mergeroot&&this.borderstyles[3]!==p.None?[this.p]:[]}},{key:"getHexBackgroundColour",value:function(){return this.backgroundcolour}},{key:"getHTML",value:function(){if(void 0!==this.mergeroot&&!this.isMergeRoot())return"";var e="";if(this.isMergeRoot()){var t=this.getMergeSize(),n=t[0],a=t[1];0!==n&&(e+=" rowspan='"+(n+1).toString()+"'"),0!==a&&(e+=" colspan='"+(a+1).toString()+"'")}var r="<td ";r+=e;var i=this.getHexBackgroundColour();return r+=" style = '",""!==i&&(r+="background-color:"+i+";"),r+="padding: 5px;text-align: ".concat(this.csstextalign,";border-top: ").concat(this.getcssborderstyle(0),";border-right: ").concat(this.getcssborderstyle(1),";border-bottom: ").concat(this.getcssborderstyle(2),";border-left: ").concat(this.getcssborderstyle(3),";vertical-align: ").concat(this.verticalalign,";color: ").concat(this.textcolour,";'>\n").concat(this.getData().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"</td >\n")}},{key:"getcssborderstyle",value:function(e){return" 1px  "+this.borderstyles[e].toString()+" "+this.bordercolours[e].toString()}},{key:"setData",value:function(e){this.data=e}},{key:"copy",value:function(){return Object.assign({},this)}},{key:"isVisible",value:function(){return this.isMergeRoot()||void 0===this.mergeroot}},{key:"getparagraphcss",value:function(){return{textAlign:this.csstextalign}}},{key:"setHorizontalTextAlignment",value:function(e){this.csstextalign=e}},{key:"setVerticalTextAlignment",value:function(e){this.verticalalign=e}},{key:"moveCursorToEnd",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t}},{key:"getLengthOfLongestLine",value:function(e){return Math.max.apply(Math,Object(f.a)(e.split("\n").map((function(e){return e.length}))))}},{key:"getMergeSpan",value:function(){var e=this.getMergeSize();return{rowspan:e[0]+1,colspan:e[1]+1}}},{key:"combineColours",value:function(){var e=this.getHexBackgroundColour(),t=X()("#FFC0CB");if(""!==e){var n=X()(e);return t.mix(n).hex().toString()}return t.toString()}},{key:"draw",value:function(e,t,n,a,r,i,o,s,l,c,u,h){var d=this,b=this.getMergeSpan();if(this.isVisible())return Object(K.jsx)("td",{rowSpan:b.rowspan,colSpan:b.colspan,id:this.p.toString(),style:{borderTop:this.getcssborderstyle(0),borderRight:this.getcssborderstyle(1),borderBottom:this.getcssborderstyle(2),borderLeft:this.getcssborderstyle(3),background:this.isSelected()?this.combineColours():this.getHexBackgroundColour(),padding:h?"5px":"0px",verticalAlign:this.verticalalign},onDoubleClick:function(e){return c(d)},children:Object(K.jsx)("div",{children:this.editing?Object(K.jsx)("textarea",{className:"cell-input",value:this.getData(),rows:this.getData().split("\n").length+1,cols:this.getLengthOfLongestLine(this.getData())+4,tabIndex:0,onChange:function(e){return o(d,e.target.value)},onBlur:function(e){return u(d)},autoFocus:!0,onFocus:function(e){return d.moveCursorToEnd(e)}}):Object(K.jsx)("p",{className:"celltext",style:{textAlign:this.csstextalign,color:this.textcolour},children:this.getData()})})},this.p.toString())}}]),e}(),C=Object(W.a)(y.prototype,"p",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y),J=[],Y=[],$=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).chosencolour="#ffffff",r.colourpickerref=void 0,r.svgref=void 0,r.latextextarearef=void 0,r.htmltextarearef=void 0,r.texttextarearef=void 0,r.tableref=void 0,r.latexpackagesref=void 0,r.svgref=a.createRef(),r.colourpickerref=a.createRef(),r.latextextarearef=a.createRef(),r.htmltextarearef=a.createRef(),r.texttextarearef=a.createRef(),r.latexpackagesref=a.createRef(),r.tableref=a.createRef(),r.state={table:[],selecting:!1,startselectpoint:[0,0],endselectpoint:[0,0],bordermodify:[!0,!0,!0,!0],tab:0,newtableform:[r.props.initialrows,r.props.initialcols],changedatafield:"",prefillcellscheck:r.props.prefillcells,username:"",password:"",mytables:[],showaccountdialog:!1,currenttablename:"A table",showoutput:!0,topmenutab:0,extrapadding:!0},r.testPopulateTable(),r}return Object(l.a)(n,[{key:"testPopulateTable",value:function(){for(var e=0;e<this.props.initialrows;e++){for(var t=[],n=0;n<this.props.initialcols;n++){var a=new _(new j(e,n),this.props.prefillcells?void 0:"a");t.push(a)}this.state.table.push(t)}}},{key:"getRowCount",value:function(){return this.state.table.length}},{key:"getColCount",value:function(){return this.state.table[0].length}},{key:"getRow",value:function(e){return this.state.table[e]}},{key:"getCol",value:function(e){for(var t=[],n=0;n<this.getRowCount();n++)t.push(this.state.table[n][e]);return t}},{key:"getSelectedCells",value:function(){for(var e=[],t=0;t<this.getRowCount();t++)for(var n=0;n<this.getColCount();n++){var a=this.state.table[t][n];a.isSelected()&&e.push(a)}return e}},{key:"getAllCells",value:function(){for(var e=[],t=0;t<this.getRowCount();t++)for(var n=0;n<this.getColCount();n++){var a=this.state.table[t][n];e.push(a)}return e}},{key:"getSelectedCellsFromTable",value:function(e){for(var t=e.length,n=e[0].length,a=[],r=0;r<t;r++)for(var i=0;i<n;i++){var o=e[r][i];o.isSelected()&&a.push(o)}return a}},{key:"addRow",value:function(){for(var e=F()(this.state.table),t=[],n=0;n<this.getColCount();n++){var a=new _(new j(this.getRowCount(),n),this.state.prefillcellscheck?void 0:"");t.push(a)}e.push(t),this.addTableStateToUndoStack(),this.setState({table:e})}},{key:"addCol",value:function(){for(var e=F()(this.state.table),t=this.getColCount(),n=0;n<this.getRowCount();n++){var a=new _(new j(n,t),this.state.prefillcellscheck?void 0:"");e[n].push(a)}this.addTableStateToUndoStack(),this.setState({table:e})}},{key:"selectCell",value:function(e){e.select();var t=F()(this.state.table);this.setState({table:t})}},{key:"deselectCell",value:function(e){e.deselect();var t=F()(this.state.table);this.setState({table:t})}},{key:"enableCellEdit",value:function(e){e.enableEdit();var t=F()(this.state.table);this.setState({table:t})}},{key:"disableCellEdit",value:function(e){e.disableEdit();var t=F()(this.state.table);this.setState({table:t})}},{key:"modifyCellData",value:function(e,t){this.addTableStateToUndoStack(),e.setData(t);var n=F()(this.state.table);this.setState({table:n})}},{key:"copyLatex",value:function(){var e=this.latextextarearef.current;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.getSelection().removeAllRanges()}},{key:"copyLatexPackages",value:function(){var e=this.latexpackagesref.current;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.getSelection().removeAllRanges()}},{key:"copyHTML",value:function(){var e=this.htmltextarearef.current;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.getSelection().removeAllRanges()}},{key:"copyText",value:function(){var e=document.getElementById("texttextarea");e.className="show",e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.getSelection().removeAllRanges(),e.className="hide"}},{key:"chooseColour",value:function(e){this.chosencolour=e.target.value}},{key:"setCellBackgroundColours",value:function(){var e=this;this.addTableStateToUndoStack(),this.getSelectedCells().forEach((function(t){(t.setBackgroundColour(e.chosencolour),t.isMergeRoot())&&t.getMergeChildren().map((function(t){return e.state.table[t.row][t.col]})).forEach((function(t){return t.setBackgroundColour(e.chosencolour)}))}));var t=F()(this.state.table);this.setState({table:t})}},{key:"setCellTextColours",value:function(){var e=this;this.addTableStateToUndoStack(),this.getSelectedCells().forEach((function(t){(t.setTextColour(e.chosencolour),t.isMergeRoot())&&t.getMergeChildren().map((function(t){return e.state.table[t.row][t.col]})).forEach((function(t){return t.setTextColour(e.chosencolour)}))}));var t=F()(this.state.table);this.setState({table:t})}},{key:"setCellBorderColours",value:function(){var e=this;this.addTableStateToUndoStack();var t=F()(this.state.table);this.getSelectedCellsFromTable(t).forEach((function(t){var n=["","","",""];e.state.bordermodify.map((function(a,r){n[r]=a?e.chosencolour:t.bordercolours[r]})),t.setBorderColour(n)})),this.setState({table:t})}},{key:"selectBorderToModify",value:function(e){var t;(t=Object(f.a)(this.state.bordermodify))[e]=!t[e],this.setState({bordermodify:t})}},{key:"chooseBorderStyle",value:function(e){var t=this;this.addTableStateToUndoStack();var n=F()(this.state.table);this.getSelectedCellsFromTable(n).forEach((function(n){var a=[p.None,p.None,p.None,p.None];t.state.bordermodify.map((function(t,r){a[r]=t?e.target.value:n.borderstyles[r]})),n.setBorderStyle(a)})),this.setState({table:n})}},{key:"deselectAllCells",value:function(){this.getSelectedCells().forEach((function(e){e.deselect()}));var e=F()(this.state.table);this.setState({table:e})}},{key:"selectAllCells",value:function(){for(var e=0;e<this.getRowCount();e++)for(var t=0;t<this.getColCount();t++){this.state.table[e][t].select()}var n=F()(this.state.table);this.setState({table:n})}},{key:"mergeCells",value:function(){var e=this;this.addTableStateToUndoStack();var t=this.getSelectedCells();if(!(t.length<=1)){var n=1/0,a=1/0,r=0,i=0;t.forEach((function(e){var t=e.p;t.row<n&&(n=t.row),t.row>r&&(r=t.row),t.col<a&&(a=t.col),t.col>i&&(i=t.col)}));for(var o=!1,s=this.state.table[n][a],l=[],c=n;c<=r;c++)for(var u=a;u<=i;u++){var h=this.state.table[c][u];if(h.p.equals(s.p)||l.push(h),h.isSelected()||(o=!0),h.select(),void 0!==h.getMergeRoot()){var d=h.getMergeRoot(),b=this.state.table[d.row][d.col];b.isSelected()||(o=!0,b.select())}h.getMergeChildren().forEach((function(t){var n=t,a=e.state.table[n.row][n.col];a.isSelected()||(o=!0),a.select()}))}if(o)this.mergeCells();else{s.deselect(),l.forEach((function(e){e.mergeAsChild(s.p),e.deselect()})),s.mergeAsRoot(l.map((function(e){return e.p}))),s.getMergeChildren().map((function(t){return e.state.table[t.row][t.col]})).forEach((function(e){return e.setBackgroundColour(s.getHexBackgroundColour())}));var f=F()(this.state.table);this.setState({table:f})}}}},{key:"splitCells",value:function(){var e=this;this.addTableStateToUndoStack();var t=this.getSelectedCells();if(0!==t.length){var n=new Set;t.forEach((function(e){void 0!==e.getMergeRoot()&&n.add(e.getMergeRoot()),e.deselect()})),Array.from(n).forEach((function(t){var n=t,a=e.state.table[n.row][n.col];a.getMergeChildren().forEach((function(t){var n=t;e.state.table[n.row][n.col].unMerge()})),a.unMerge()}));var a=F()(this.state.table);this.setState({table:a})}}},{key:"setHorizontalTextAlignment",value:function(e){this.addTableStateToUndoStack(),this.getSelectedCells().forEach((function(t){t.setHorizontalTextAlignment(e)}));var t=F()(this.state.table);this.setState({table:t})}},{key:"setVerticalTextAlignment",value:function(e){this.addTableStateToUndoStack(),this.getSelectedCells().forEach((function(t){t.setVerticalTextAlignment(e)}));var t=F()(this.state.table);this.setState({table:t})}},{key:"convertToLatex",value:function(){for(var e=this,t="",n=0;n<this.getColCount();n++)t+="c ";for(var a=Array(this.getRowCount()).fill(void 0).map((function(){return Array(e.getColCount()).fill(!1)})),r={},i=0;i<this.getRowCount();i++)this.state.table[i].forEach((function(e){if(e.getBottomLines().forEach((function(e){a[e.row][e.col]=!0})),0!==e.getMergeChildren().length){var t=e.getLeftLines(),n=e.getMergeSize()[1];t.forEach((function(e){r[e.toString()]=n}))}}));for(var o=new Map,s=[],l=function(t){var n=e.state.table[t],i="";n.forEach((function(e){var t=e.getBotLeftOfMultiRowMerge();t&&o.set(t[0].toString(),t[1]),o.has(e.p.toString())?i+=o.get(e.p.toString()):i+=e.getLatex(r)})),"&"===i.charAt(i.length-1)&&(i=i.slice(0,-1)),i+=" \\\\";for(var l=a[t],c=!1,u="",h=0;h<l.length;h++){var d=h+1;l[h]&&!c&&(c=!0,u=u+"\\cline{"+d),(h===l.length-1&&c||c&&h!==l.length-1&&!l[h+1])&&(u=u+"-"+d+"}",c=!1)}i+=u,s.push(i)},c=0;c<this.getRowCount();c++)l(c);for(var u=this.state.table[0].map((function(e){return"none"!==e.borderstyles[0]})),h=!1,d="",b=0;b<u.length;b++){var f=b+1;u[b]&&!h&&(h=!0,d=d+"\n\\cline{"+f),(b===u.length-1&&h||h&&b!==u.length-1&&!u[b+1])&&(d=d+"-"+f+"}",h=!1)}s.length>0&&(s[0]=" "+d+"\n"+s[0]);var g="";g+="\\begin{center}",g+="\n\\begin{tabular}{"+t+"}",s.forEach((function(e){g+=e+"\n"})),g+="\\end{tabular}",g+="\n\\end{center}";return"\\usepackage[table,xcdraw]{xcolor}\n","\\usepackage{multicol}\n","\\usepackage{multirow}\n","\\usepackage{tabstackengine}",Object(K.jsxs)("div",{children:[Object(K.jsx)("h4",{children:"Required LaTeX Packages"}),Object(K.jsx)("p",{children:"Place these at the top of the LaTeX document."}),Object(K.jsx)("textarea",{readOnly:!0,rows:5,cols:25,className:"latex-box",id:"latexpackagestextarea",ref:this.latexpackagesref,value:"\\usepackage[utf8]{inputenc}\n\\usepackage[table,xcdraw]{xcolor}\n\\usepackage{multicol}\n\\usepackage{multirow}\n\\usepackage{tabstackengine}"}),Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.copyLatexPackages()},children:"Copy to clipboard"}),Object(K.jsx)("h4",{children:"LaTeX"}),Object(K.jsx)("textarea",{readOnly:!0,rows:10,cols:25,className:"latex-box",id:"latextextarea",ref:this.latextextarearef,value:g})]})}},{key:"convertToHTML",value:function(){for(var e=this,t="<table class='htmltable' >\n",n=0;n<this.getRowCount();n++){var a=this.getRow(n);t+="<tr>\n",a.forEach((function(e){t+=e.getHTML()})),t+="</tr>\n"}return t+="</table>\n",Object(K.jsxs)("div",{children:[Object(K.jsx)("textarea",{readOnly:!0,rows:10,cols:15,className:"latex-box",id:"htmltextarea",ref:this.htmltextarearef,value:t}),Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.copyHTML()},children:"Copy to clipboard"}),Object(K.jsx)("div",{dangerouslySetInnerHTML:{__html:t},className:"html-table-displaybox"})]})}},{key:"convertToText",value:function(){var e=this.state.table.map((function(e){return e.map((function(e){var t=e.getData();return""===t||e.isMergeChild()?" ":t}))})),t="";try{t=Object(k.table)(e)}catch(n){t="Couldn't create text table.",console.log(t)}return Object(K.jsxs)("div",{children:[Object(K.jsx)("textarea",{readOnly:!0,rows:10,cols:15,ref:this.latextextarearef,id:"texttextarea",className:"hide",value:t}),Object(K.jsx)("code",{id:"textcodeblock",children:t})]})}},{key:"copyAsCSVToClipboard",value:function(){var e=document.getElementById("csvtextarea");e.className="show",e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.getSelection().removeAllRanges(),e.className="hide"}},{key:"getCSVContent",value:function(){var e=this,t=this.state.table.map((function(e){return e.map((function(e){return e.getData()}))})),n=V.a.unparse(t);return Object(K.jsxs)("div",{children:[Object(K.jsx)("textarea",{readOnly:!0,rows:10,cols:15,id:"csvtextarea",className:"hide",value:n}),Object(K.jsx)("h4",{children:"Copy CSV Table Data to your Clipboard"}),Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.copyAsCSVToClipboard()},children:"Copy"})]})}},{key:"svgCreateRect",value:function(e){var t=this.svgref.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;this.setState({selecting:!0,startselectpoint:[n,a],endselectpoint:[n,a]})}},{key:"svgDestroyRect",value:function(e){this.state.startselectpoint.toString()===this.state.endselectpoint.toString()&&"0,0"!==this.state.startselectpoint.toString()?this.selectWithClick(this.state.startselectpoint):this.svgDragRect(e),this.setState({selecting:!1,startselectpoint:[0,0],endselectpoint:[0,0]})}},{key:"svgDragRect",value:function(e){if(this.state.selecting){var t=this.svgref.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;this.SelectWithBox(),this.setState({selecting:!0,endselectpoint:[n,a]})}}},{key:"drawSelectRect",value:function(){if(this.state.selecting){var e=this.state.startselectpoint,t=this.state.endselectpoint;return Object(K.jsx)("rect",{id:"svgselectrect",x:Math.min(e[0],t[0]),y:Math.min(e[1],t[1]),width:Math.abs(e[0]-t[0]),height:Math.abs(e[1]-t[1]),style:{border:"1px solid black",fillOpacity:.3,fill:"red"}})}}},{key:"selectWithClick",value:function(e){var t=this.svgref.current.getBoundingClientRect();e=[e[0]+t.left,e[1]+t.top];for(var n=0;n<this.getRowCount();n++)for(var a=0;a<this.getColCount();a++){var r=this.state.table[n][a];if(r.isVisible()){var i=document.getElementById(r.p.toString()).getBoundingClientRect();e[0]<i.left+i.width&&e[0]>i.left&&e[1]<i.top+i.height&&e[1]>i.top&&(r.isSelected()?r.deselect():r.select())}}}},{key:"SelectWithBox",value:function(){for(var e=document.getElementById("svgselectrect").getBoundingClientRect(),t=0;t<this.getRowCount();t++)for(var n=0;n<this.getColCount();n++){var a=this.state.table[t][n];if(a.isVisible()){var r=document.getElementById(a.p.toString()).getBoundingClientRect();e.left<r.left+r.width&&e.left+e.width>r.left&&e.top<r.top+r.height&&e.top+e.height>r.top?a.select():a.deselect()}}}},{key:"convertToImage",value:function(){var e=this;this.getSelectedCells().forEach((function(e){e.deselect()}));var t=F()(this.state.table);this.setState({table:t},(function(){return e.convertToPNG()}))}},{key:"convertToPNG",value:function(){var e=this.svgref.current,t=(new XMLSerializer).serializeToString(e);document.getElementById("mycanvas").className="show";var n=document.createElement("img");n.setAttribute("src","data:image/svg+xml;base64,"+btoa(t)),window.open("").document.write(n.outerHTML)}},{key:"handleKeyPress",value:function(e){console.log(e.key),this.selectAllCells(),e.ctrlKey&&"a"==e.key&&this.selectAllCells()}},{key:"drawTable",value:function(){var e=this;return Object(K.jsxs)("div",{style:{zIndex:-1},onKeyDown:function(t){return e.handleKeyPress(t)},className:"maintablediv",onClick:function(t){return e.bigClick(t)},children:[Object(K.jsxs)("svg",{ref:this.svgref,width:"9000px",height:"9000px",id:"svg",onMouseDown:function(t){return e.svgCreateRect(t)},onMouseUp:function(t){return e.svgDestroyRect(t)},onMouseMove:function(t){return e.svgDragRect(t)},onMouseLeave:function(t){return e.svgDestroyRect(t)},children:[Object(K.jsx)("foreignObject",{x:"0%",y:"0%",width:"100%",height:"100%",children:Object(K.jsx)("table",{ref:this.tableref,className:"maintable",children:Object(K.jsx)("tbody",{children:this.state.table.map((function(t,n){return Object(K.jsx)("tr",{children:t.map((function(t,n){return t.draw(0,0,[],[],0,0,(function(t,n){return e.modifyCellData(t,n)}),(function(t){return e.selectCell(t)}),(function(t){return e.deselectCell(t)}),(function(t){return e.enableCellEdit(t)}),(function(t){return e.disableCellEdit(t)}),e.state.extrapadding)}))},n)}))})})}),this.drawSelectRect()]}),Object(K.jsx)("canvas",{id:"mycanvas",className:"hide",width:500,height:500}),Object(K.jsx)("br",{})]})}},{key:"componentDidMount",value:function(){var e=this.colourpickerref.current;e&&(e.value=this.chosencolour)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"addTableStateToUndoStack",value:function(){Y=[];var e=F()(this.state.table);J.length>10&&J.shift(),J.push(e)}},{key:"undo",value:function(){var e=this,t=J.pop();if(void 0!==t){var n=F()(this.state.table);Y.length>11&&Y.shift(),Y.push(n),this.setState({table:t},(function(){return e.deselectAllCells()}))}}},{key:"redo",value:function(){var e=this,t=Y.pop();if(void 0!==t){var n=F()(this.state.table);J.length>10&&J.shift(),J.push(n),this.setState({table:t},(function(){return e.deselectAllCells()}))}}},{key:"bigClick",value:function(e){null===this.tableref.current||this.tableref.current.contains(e.target)||this.deselectAllCells()}},{key:"changeTab",value:function(e,t){this.setState({tab:t})}},{key:"changeTab2",value:function(e,t){this.setState({topmenutab:t})}},{key:"getOutputPanelTabContent",value:function(){var e=this;switch(this.state.tab){case 1:return Object(K.jsx)("div",{id:"HTMLDiv",children:this.convertToHTML()});case 2:return Object(K.jsxs)("div",{id:"TextDiv",children:[Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.copyText()},children:"Copy to clipboard"}),this.convertToText()]});case 4:return Object(K.jsxs)("div",{id:"PNGDiv",children:[Object(K.jsx)("h4",{children:"Open Table as PNG Image in a new tab"}),Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.convertToImage()},children:"Generate PNG"})]});case 3:return Object(K.jsx)("div",{id:"CSVDiv",children:this.getCSVContent()});case 0:default:return Object(K.jsxs)("div",{id:"LaTexDiv",children:[this.convertToLatex(),Object(K.jsx)(O.a,{className:"table-buttons",type:"button",onClick:function(){return e.copyLatex()},children:"Copy to clipboard"})]})}}},{key:"UploadTable",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("file"),n=new FormData,!(null!==t.files&&t.files.length>0)){e.next=19;break}return n.append("File",t.files[0]),e.prev=4,e.next=7,fetch("TableImageOCR/UploadTable",{method:"POST",headers:{},body:n});case 7:return a=e.sent,e.next=10,a.json();case 10:(r=e.sent).error?alert("Table response from server was invalid."):this.importTableFromArray(r.table),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),alert("No response from server.");case 17:e.next=20;break;case 19:alert("Please choose a file to upload.");case 20:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"createNewTable",value:function(e,t,n){if(e<=30&&t<=30){this.addTableStateToUndoStack();for(var a=[],r=0;r<e;r++){for(var i=[],o=0;o<t;o++){var s=new _(new j(r,o),this.state.prefillcellscheck?void 0:"");i.push(s)}a.push(i)}this.setState({table:a})}else alert("Table dimensions too big.")}},{key:"getStringFromClipboard",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"parseCSVFromClipboard",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.getStringFromClipboard();case 3:e.t1=e.sent,t=e.t0.parseCSV.call(e.t0,e.t1),this.importTableFromArray(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"testcsv",value:function(e){this.importTableFromArray(this.parseCSV(e))}},{key:"parseCSV",value:function(e){for(var t=V.a.parse(e,{header:!1}).data,n=t.length,a=t.map((function(e){return Object.values(e).length})),r=Math.max.apply(Math,Object(f.a)(a)),i=[],o=0;o<n;o++){for(var s=[],l=Object.values(t[o]),c=0;c<r;c++){var u="";c<l.length&&(u=l[c].split("\n").join("")),s.push(u)}i.push(s)}return i}},{key:"importTableFromArray",value:function(e){var t=e.length,n=Math.max.apply(Math,Object(f.a)(e.map((function(e){return e.length}))));if(t<=30&&n<=30){this.addTableStateToUndoStack();for(var a=[],r=0;r<t;r++){for(var i=[],o=0;o<n;o++){var s=new _(new j(r,o),e[r][o]);i.push(s)}a.push(i)}this.setState({table:a})}else alert("Table dimensions too big.")}},{key:"setSelectedCellData",value:function(e){this.addTableStateToUndoStack(),this.getSelectedCells().forEach((function(t){return t.setData(e)})),this.setState(this.state)}},{key:"requestSaveTable",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("username",this.state.username),t.append("password",this.state.password),t.append("tablejson",JSON.stringify(this.state.table)),t.append("tablename",this.state.currenttablename),e.next=7,fetch("DB/InsertTable",{method:"POST",headers:{},body:t});case 7:return n=e.sent,e.next=10,n.json();case 10:e.sent||alert("Couldn't save table"),this.requestMyTables();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestDeleteTable",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("username",this.state.username),n.append("password",this.state.password),n.append("tableid",t),e.next=6,fetch("DB/DeleteTable",{method:"POST",headers:{},body:n});case 6:return a=e.sent,e.next=9,a.json();case 9:e.sent||alert("Couldn't delete table"),this.requestMyTables();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"moveSelectedCells",value:function(e){this.addTableStateToUndoStack();var t=F()(this.state.table),n=this.getSelectedCellsFromTable(t);n.forEach((function(e){e.isMergeRoot()&&e.getMergeChildren().forEach((function(e){var a=t[e.row][e.col];n.push(a)}))}));var a=[];switch(e){case v.Up:case v.Left:for(var r=0;r<n.length;r++)if(!a.includes(n[r].getMergeRoot())){var i=this.moveSelectedCellsLoopContent(n,r,t,e);void 0!==i&&a.push(i)}break;case v.Down:case v.Right:for(var o=n.length-1;o>=0;o--)if(!a.includes(n[o].getMergeRoot())){var s=this.moveSelectedCellsLoopContent(n,o,t,e);void 0!==s&&a.push(s)}}t=this.fixMerges(t),this.setState({table:t})}},{key:"moveSelectedCellsLoopContent",value:function(e,t,n,a){var r=e[t];if(r.isMergeChild()||r.isMergeRoot){if(!this.checkIfPointInTable(m(r.p,a),n))return r.getMergeRoot();if(r.move(a),this.checkIfPointInTable(r.p,n)){var i=n[r.p.row][r.p.col];n[r.p.row][r.p.col]=r,i.move(this.getOppositedir(a)),n[i.p.row][i.p.col]=i}}else if(r.move(a),this.checkIfPointInTable(r.p,n)){var o=n[r.p.row][r.p.col];n[r.p.row][r.p.col]=r,o.move(this.getOppositedir(a)),n[o.p.row][o.p.col]=o}}},{key:"getOppositedir",value:function(e){switch(e){case v.Up:return v.Down;case v.Down:return v.Up;case v.Left:return v.Right;case v.Right:return v.Left}}},{key:"deleteRowHandler",value:function(){this.addTableStateToUndoStack();for(var e=F()(this.state.table),t=this.getSelectedCellsFromTable(e),n=Array.from(new Set(t.map((function(e){return e.p.row})))).sort(),a=n.length-1;a>=0;a--){var r=n[a];this.deleteRow(r,e)}e=this.fixMerges(e),this.setState({table:e})}},{key:"deleteRow",value:function(e,t){for(var n=e+1;n<t.length;n++){t[n].forEach((function(e){e.move(v.Up)}))}return t.length>1&&t.splice(e,1),t}},{key:"deleteColHandler",value:function(){this.addTableStateToUndoStack();for(var e=F()(this.state.table),t=this.getSelectedCellsFromTable(e),n=Array.from(new Set(t.map((function(e){return e.p.col})))).sort(),a=n.length-1;a>=0;a--){var r=n[a];this.deleteCol(r,e)}e=this.fixMerges(e),this.setState({table:e})}},{key:"deleteCol",value:function(e,t){return t.forEach((function(t){for(var n=e+1;n<t.length;n++)t[n].move(v.Left);t.length>1&&t.splice(e,1)})),t}},{key:"setTableFormValues",value:function(e,t){e>30&&(e=30),e<1&&(e=1),t>30&&(t=30),t<1&&(t=1),this.setState({newtableform:[e,t]})}},{key:"checkIfPointInTable",value:function(e,t){return e.row>=0&&e.col>=0&&e.row<t.length&&e.col<t[0].length}},{key:"getMissingPoints",value:function(e){var t=e.map((function(e){return e.row})),n=e.map((function(e){return e.col})),a=[];t.forEach((function(e){n.forEach((function(t){a.push(e.toString()+" "+t.toString())}))}));var r=e.map((function(e){return e.toString()}));return a.filter((function(e){return!r.includes(e)})).map((function(e){return new j(void 0,void 0,e)}))}},{key:"fixMerges",value:function(e){for(var t=this,n=[],a=0;a<e.length;a++)for(var r=0;r<e[0].length;r++){var i=e[a][r];i.isMergeRoot()?(n.push(i),i.p=new j(a,r,void 0),i.isMergeRoot()||i.unMerge()):(void 0!==i.getMergeRoot()&&i.unMerge(),i.p=new j(a,r,void 0))}return n.forEach((function(n){var a=n.getMergeChildren();(a=a.filter((function(n){return t.checkIfPointInTable(n,e)}))).forEach((function(t){var a=e[t.row][t.col];a.mergeAsChild(n.p),a.hidden=!0})),0===a.length?0===a.length?n.mergeAsChild(n.mergeroot):n.unMerge():n.mergeAsRoot(a)})),e}},{key:"requestMyTables",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("username",this.state.username),t.append("password",this.state.password),e.next=5,fetch("DB/GetMyTables",{method:"POST",headers:{},body:t});case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,r=[],a.forEach((function(e){r.push([e.Item1,e.Item2])})),this.setState({mytables:r});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMyTables",value:function(){var e=this;return Object(K.jsx)(S.a,{children:this.state.mytables.map((function(t){return Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{children:t[1]}),Object(K.jsx)(O.a,{onClick:function(){return e.requestTable(t[0])},children:"Load"}),Object(K.jsx)(O.a,{onClick:function(){return e.requestDeleteTable(t[0])},children:"Delete"})]},parseInt(t[0]))}))})}},{key:"requestTable",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,r,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("username",this.state.username),n.append("password",this.state.password),n.append("tableid",t),e.next=6,fetch("DB/GetTable",{method:"POST",headers:{},body:n});case 6:return a=e.sent,e.next=9,a.json();case 9:for(r=e.sent,i=0;i<r.length;i++)for(o=0;o<r[0].length;o++)s=r[i][o],l=Object(U.a)(j,s.p),s.p=l,r[i][o]=Object(U.a)(_,s);this.setState({table:r});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOutputPanelTabBar",value:function(){var e=this;if(this.state.showoutput)return Object(K.jsxs)("div",{id:"outputdiv",children:[Object(K.jsx)(M.a,{position:"static",children:Object(K.jsxs)(R.a,{id:"tabbar",variant:"scrollable",value:this.state.tab,onChange:function(t,n){return e.changeTab(t,n)},children:[Object(K.jsx)(N.a,{label:"LaTeX",tabIndex:0,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{label:"HTML",tabIndex:1,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{label:"Text",tabIndex:2,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{label:"CSV",tabIndex:3,style:{minWidth:"20%"}})]})}),Object(K.jsx)("div",{id:"tabContentDiv",children:this.getOutputPanelTabContent()})]})}},{key:"getTopMenuTabBar",value:function(){var e=this;return Object(K.jsxs)("div",{children:[Object(K.jsx)(M.a,{position:"static",children:Object(K.jsxs)(R.a,{id:"tabbar",variant:"scrollable",value:this.state.topmenutab,onChange:function(t,n){return e.changeTab2(t,n)},children:[Object(K.jsx)(N.a,{id:"toptab1",label:"Create/Save Table",tabIndex:0,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{id:"toptab2",label:"Import Table",tabIndex:1,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{id:"toptab3",label:"Cell Styling",tabIndex:2,style:{minWidth:"20%"}}),Object(K.jsx)(N.a,{id:"toptab4",label:"Modify Cells",tabIndex:3,style:{minWidth:"20%"}})]})}),Object(K.jsx)("div",{id:"controlTabContentDiv",children:this.getTopMenuTabContent()})]})}},{key:"getTopMenuTabContent",value:function(){var e=this;switch(this.state.topmenutab){case 0:return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsxs)(w.a,{children:[Object(K.jsx)(O.a,{onClick:function(){return e.setState({showaccountdialog:!e.state.showaccountdialog})},children:"Access My Account"}),Object(K.jsxs)(B.a,{open:this.state.showaccountdialog,"aria-labelledby":"simple-dialog-title",onClose:function(){return e.setState({showaccountdialog:!1})},children:[Object(K.jsx)(L.a,{id:"simple-dialog-title",children:"Account"}),Object(K.jsxs)(S.a,{children:[Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Username"}),Object(K.jsx)("input",{value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})},type:"text"})]}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Password"}),Object(K.jsx)("input",{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},type:"password"})]}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Save Current Table"}),Object(K.jsx)("input",{value:this.state.currenttablename,className:"tablesavetextbox",onChange:function(t){return e.setState({currenttablename:t.target.value})},type:"text"}),Object(K.jsx)(O.a,{onClick:function(){return e.requestSaveTable()},children:"Save"})]}),Object(K.jsx)(w.a,{children:Object(K.jsx)(O.a,{onClick:function(){return e.requestMyTables()},children:"Fetch My Tables"})}),this.showMyTables()]})]})]}),Object(K.jsx)(w.a,{children:Object(K.jsx)(O.a,{onClick:function(){return e.setState({showoutput:!e.state.showoutput})},children:"Toggle Output Menu"})}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Rows: "+this.state.table.length}),Object(K.jsx)(T.a,{primary:"Cols: "+this.state.table[0].length})]}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Show Bonus Padding"}),Object(K.jsx)(A.a,{checked:this.state.extrapadding,onChange:function(){return e.setState({extrapadding:!e.state.extrapadding})}})]}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(O.a,{id:"undobutton",onClick:function(){return e.undo()},children:"Undo"}),Object(K.jsx)(O.a,{id:"redobutton",onClick:function(){return e.redo()},children:"Redo"})]})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Create Table"})}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Rows"}),Object(K.jsx)("input",{type:"number",id:"rowsinput",name:"rowsinput",min:"1",max:"30",value:this.state.newtableform[0],onChange:function(t){return e.setTableFormValues(parseInt(t.target.value),e.state.newtableform[1])}})]}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Cols"}),Object(K.jsx)("input",{type:"number",id:"colsinput",name:"colsinput",min:"1",max:"30",value:this.state.newtableform[1],onChange:function(t){return e.setTableFormValues(e.state.newtableform[0],parseInt(t.target.value))}})]}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Prefill Cells"}),Object(K.jsx)(A.a,{checked:this.state.prefillcellscheck,onChange:function(){return e.setState({prefillcellscheck:!e.state.prefillcellscheck})}})]}),Object(K.jsx)(w.a,{children:Object(K.jsx)(O.a,{onClick:function(){return e.createNewTable(e.state.newtableform[0],e.state.newtableform[1],!1)},children:"Create Table"})})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{id:"addrowbutton",button:!0,onClick:function(){return e.addRow()},children:"Add Row"}),Object(K.jsx)(w.a,{id:"addcolbutton",button:!0,onClick:function(){return e.addCol()},children:"Add Column"}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsx)(w.a,{id:"deleterowbutton",button:!0,onClick:function(){return e.deleteRowHandler()},children:"Delete Selected Rows"}),Object(K.jsx)(w.a,{id:"deletecolbutton",button:!0,onClick:function(){return e.deleteColHandler()},children:"Delete Selected Columns"})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.selectAllCells()},children:"Select All"}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.deselectAllCells()},children:"Select None"})]})})]});case 1:return Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Import Table Data"})}),Object(K.jsx)(w.a,{className:"listitemtitle",children:"Upload Table Image"}),Object(K.jsx)(w.a,{children:Object(K.jsx)("input",{type:"file",id:"file",accept:"image/*"})}),Object(K.jsx)(w.a,{children:Object(K.jsx)(O.a,{onClick:function(){return e.UploadTable()},children:"Upload"})}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.parseCSVFromClipboard()},children:"Import CSV from clipboard"})]});case 2:return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Styles"})}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setTableStyle(1)},children:"Simple Lines"}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setTableStyle(2)},children:"Alternate Shading"}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setTableStyle(3)},children:"Simple Lines + Alternate Shading"})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Colour"})}),Object(K.jsxs)(w.a,{children:["Colour",Object(K.jsx)("input",{type:"color",onChange:function(t){return e.chooseColour(t)},ref:this.colourpickerref,className:"colour-picker"})]}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setCellBackgroundColours()},children:Object(K.jsx)(T.a,{primary:"Set backgrounds to this colour"})}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setCellBorderColours()},children:Object(K.jsx)(T.a,{primary:"Set borders to this colour"})}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setCellTextColours()},children:Object(K.jsx)(T.a,{primary:"Set text to this colour"})})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Text Align"})}),Object(K.jsx)(w.a,{children:Object(K.jsx)(T.a,{primary:"Horizontal"})}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(O.a,{onClick:function(){return e.setHorizontalTextAlignment("left")},children:"Left"}),Object(K.jsx)(O.a,{onClick:function(){return e.setHorizontalTextAlignment("center")},children:"Centre"}),Object(K.jsx)(O.a,{onClick:function(){return e.setHorizontalTextAlignment("right")},children:"Right"})]}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsx)(w.a,{children:Object(K.jsx)(T.a,{primary:"Vertical Text Alignment:"})}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(O.a,{onClick:function(){return e.setVerticalTextAlignment("top")},children:"Top"}),Object(K.jsx)(O.a,{onClick:function(){return e.setVerticalTextAlignment("middle")},children:"Middle"}),Object(K.jsx)(O.a,{onClick:function(){return e.setVerticalTextAlignment("bottom")},children:"Bottom"})]})]})}),Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Modify Borders"})}),Object(K.jsx)(w.a,{children:Object(K.jsxs)(E.a,{children:[Object(K.jsx)(I.a,{value:"top",size:"small",selected:this.state.bordermodify[0],onClick:function(t){return e.selectBorderToModify(0)},children:"Top"}),Object(K.jsx)(I.a,{value:"right",size:"small",selected:this.state.bordermodify[1],onClick:function(t){return e.selectBorderToModify(1)},children:"Right"}),Object(K.jsx)(I.a,{value:"bottom",size:"small",selected:this.state.bordermodify[2],onClick:function(t){return e.selectBorderToModify(2)},children:"Bottom"}),Object(K.jsx)(I.a,{value:"left",size:"small",selected:this.state.bordermodify[3],onClick:function(t){return e.selectBorderToModify(3)},children:"Left"})]})}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(T.a,{primary:"Border Style:"}),Object(K.jsxs)("select",{name:"chooseborderstyle",onChange:function(t){return e.chooseBorderStyle(t)},children:[Object(K.jsx)("option",{value:p.Solid,children:"Solid"}),Object(K.jsx)("option",{value:p.Dotted,children:"Dotted"}),Object(K.jsx)("option",{value:p.Dashed,children:"Dashed"}),Object(K.jsx)("option",{value:p.None,children:"None"})]})]})]})})]});case 3:return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:"minimenudiv",children:Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Selected Cell Controls"})}),Object(K.jsx)(w.a,{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("input",{style:{width:"100px"},type:"text",id:"celltextinput",name:"celltextinput",value:this.state.changedatafield,onChange:function(t){return e.setState({changedatafield:t.target.value})}}),Object(K.jsx)(O.a,{onClick:function(){return e.setSelectedCellData(e.state.changedatafield)},children:"Set Data"})]})}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.setSelectedCellData("")},children:Object(K.jsx)(T.a,{primary:"Clear Data"})})]})}),Object(K.jsxs)("div",{className:"minimenudiv",children:[Object(K.jsx)(w.a,{divider:!0,children:Object(K.jsx)("b",{children:"Merge/Move Cells"})}),Object(K.jsxs)(S.a,{dense:!0,children:[Object(K.jsx)(w.a,{id:"mergebutton",button:!0,onClick:function(){return e.mergeCells()},children:Object(K.jsx)(T.a,{primary:"Merge"})}),Object(K.jsx)(w.a,{button:!0,onClick:function(){return e.splitCells()},children:Object(K.jsx)(T.a,{primary:"Split"})}),Object(K.jsx)(D.a,{component:"li",variant:"middle"}),Object(K.jsx)(w.a,{children:Object(K.jsx)(T.a,{primary:"Move Selected Cells"})}),Object(K.jsxs)(w.a,{children:[Object(K.jsx)(O.a,{className:"smallButton",size:"small",id:"movecellsupbutton",onClick:function(){return e.moveSelectedCells(v.Up)},children:"Up"}),Object(K.jsx)(O.a,{className:"smallButton",size:"small",id:"movecellsdownbutton",onClick:function(){return e.moveSelectedCells(v.Down)},children:"Down"}),Object(K.jsx)(O.a,{className:"smallButton",size:"small",id:"movecellsleftbutton",onClick:function(){return e.moveSelectedCells(v.Left)},children:"Left"}),Object(K.jsx)(O.a,{className:"smallButton",size:"small",id:"movecellsrightbutton",onClick:function(){return e.moveSelectedCells(v.Right)},children:"Right"})]})]})]})]})}}},{key:"setTableStyle",value:function(e){switch(this.addTableStateToUndoStack(),this.getAllCells().forEach((function(e){e.setBackgroundColour(""),e.setBorderStyle([p.None,p.None,p.None,p.None])})),e){case 1:this.setSimpleLinesStyle();break;case 2:this.setAlternateShadingStyle();break;case 3:this.setSimpleLinesStyle(),this.setAlternateShadingStyle()}var t=F()(this.state.table);this.setState({table:t})}},{key:"setSimpleLinesStyle",value:function(){if(this.state.table.length>1&&this.state.table[0].length>1){var e=this.getRow(0),t=this.getRow(1),n=this.getCol(0),a=this.getCol(1);e.forEach((function(e){e.setBorderStyle([p.None,p.None,p.Solid,p.None])})),t.forEach((function(e){e.setBorderStyle([p.Solid,p.None,p.None,p.None])})),n.forEach((function(e){e.setBorderStyle([p.None,p.Solid,p.None,p.None])})),a.forEach((function(e){e.setBorderStyle([p.None,p.None,p.None,p.Solid])})),this.state.table[0][0].setBorderStyle([p.None,p.Solid,p.Solid,p.None]),this.state.table[0][1].setBorderStyle([p.None,p.None,p.Solid,p.Solid])}}},{key:"setAlternateShadingStyle",value:function(){for(var e=1;e<this.state.table.length;e+=2){console.log("test"),this.getRow(e).forEach((function(e){e.setBackgroundColour("#D4D4D4")}))}}},{key:"render",value:function(){return Object(K.jsxs)("div",{className:"adiv",children:[Object(K.jsx)("div",{id:this.state.showoutput?"topdiv":"topdivwide",children:this.getTopMenuTabBar()}),this.drawTable(),this.getOutputPanelTabBar()]})}}]),n}(a.Component);$.defaultProps={initialrows:5,initialcols:5,prefillcells:!0};var Q=$,Z=(n(329),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(K.jsx)(Q,{})}}]),n}(a.Component));Z.displayName=Z.name;var ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ne=document.getElementsByTagName("base")[0].getAttribute("href"),ae=document.getElementById("root");i.a.render(Object(K.jsx)(o.a,{basename:ne,children:Object(K.jsx)(Z,{})}),ae),function(){if("serviceWorker"in navigator){if(new URL("/table-converter",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/table-converter","/service-worker.js");ee?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):te(e)}))}}()}},[[331,1,2]]]);
//# sourceMappingURL=main.76c6e13b.chunk.js.map